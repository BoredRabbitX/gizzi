<!DOCTYPE html>
<html lang="it" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Eccellenza gastronomica dal cuore del Parco Nazionale del Cilento. Scopri i nostri prodotti autentici e porta a casa l'oro del Cilento.">
    <meta name="keywords" content="Gruppo Gizzi, Cilento, prodotti tipici, gastronomia, Parco Nazionale, eccellenza italiana, olio extravergine, conservazione, pasta artigianale">
    <meta name="author" content="Gruppo Gizzi">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <link rel="canonical" href="">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:title" content="Gruppo Gizzi | Cilento Authentic Experience">
    <meta property="og:description" content="Eccellenza gastronomica dal cuore del Parco Nazionale del Cilento. Scopri i nostri prodotti autentici.">
    <meta property="og:image" content="">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="it_IT">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="">
    <meta property="twitter:title" content="Gruppo Gizzi | Cilento Authentic Experience">
    <meta property="twitter:description" content="Eccellenza gastronomica dal cuore del Parco Nazionale del Cilento">
    <meta property="twitter:image" content="">
    <meta property="twitter:creator" content="@gruppogizzi">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÖ</text></svg>">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..72,700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="./assets/css/design-system.css">
    <link rel="stylesheet" href="./assets/css/components.css">
    <link rel="stylesheet" href="./assets/css/animations.css">
    <link rel="stylesheet" href="./assets/css/seo-performance.css">
    
    <title>Gruppo Gizzi | Cilento Authentic Experience</title>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Store",
        "name": "Gruppo Gizzi",
        "description": "Eccellenza gastronomica dal cuore del Parco Nazionale del Cilento",
        "url": "",
        "telephone": "+393667540018",
        "address": {
            "@type": "PostalAddress",
            "addressCountry": "IT"
        },
        "sameAs": []
    }
    </script>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Vai al contenuto principale</a>
    
    <!-- Loading Overlay -->
    <div class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Caricamento...</p>
    </div>

    <!-- Cart Overlay -->
    <div class="cart-overlay"></div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="nav-top">
                <a href="#" class="logo" data-i18n="header.logo">GRUPPO GIZZI</a>
                
                <div class="header-controls">
                    <div class="lang-selector">
                        <select id="lang-select" class="lang-select">
                            <option value="it">üáÆüáπ IT</option>
                            <option value="en">üá¨üáß EN</option>
                            <option value="de">üá©üá™ DE</option>
                            <option value="hu">üá≠üá∫ HU</option>
                        </select>
                    </div>
                    
                    <button class="theme-toggle" aria-label="Cambia tema">
                        <span class="theme-icon">üåô</span>
                    </button>
                    
                    <button class="cart-button" aria-label="Carrello">
                        <span>üõí</span>
                        <span class="cart-count" style="display: none;">0</span>
                    </button>
                </div>
            </div>
        </div>
        
        <nav class="category-menu"></nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content animate-on-scroll">
            <h1 data-i18n="hero.title">L'Oro del Cilento, a casa tua.</h1>
            <p data-i18n="hero.subtitle">Eccellenza gastronomica dal cuore del Parco Nazionale.</p>
            <a href="#products" class="hero-cta" data-i18n="hero.cta">Scopri i Prodotti</a>
        </div>
    </section>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Featured Products Carousel -->
        <section class="carousel-section">
            <div class="container">
                <div class="section-header animate-on-scroll">
                    <h2 class="section-title" data-i18n="products.featured">I Prodotti del Momento</h2>
                    <p class="section-subtitle">Le nostre eccellenze pi√π amate</p>
                </div>
                
                <div class="carousel-viewport">
                    <div id="carousel-track" class="carousel-track"></div>
                </div>
                
                <div id="carousel-dots" class="carousel-nav"></div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="products-section section">
            <div class="container">
                <!-- View Controls -->
                <div class="view-controls animate-on-scroll">
                    <button id="btn-view-all" class="view-toggle active" data-i18n="products.all">Tutti i Prodotti</button>
                    <button id="btn-view-cats" class="view-toggle" data-i18n="products.byCategory">Per Categoria</button>
                </div>
                
                <!-- Products Container -->
                <div id="products-container"></div>
            </div>
        </section>
    </main>

    <!-- Cart Panel -->
    <aside class="cart-panel">
        <div class="cart-header">
            <h2 class="cart-title" data-i18n="cart.title">Il Tuo Carrello</h2>
            <button class="cart-close" aria-label="Chiudi carrello">‚úï</button>
        </div>
        
        <div class="cart-actions">
            <button class="clear-cart" data-i18n="cart.emptyCart">SVUOTA CARRELLO</button>
        </div>
        
        <div class="cart-items"></div>
        
        <div class="cart-footer">
            <div class="cart-shipping" data-i18n="cart.shipping">Spedizione: ‚Ç¨ 0.00</div>
            <div class="cart-total">
                <span data-i18n="cart.total">Totale:</span>
                <span>‚Ç¨ 0.00</span>
            </div>
            <button class="checkout-btn" data-i18n="cart.checkout">PROSEGUI ALL'ORDINE</button>
        </div>
    </aside>

    <!-- Checkout Modal -->
    <div class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" data-i18n="checkout.title">Dati Spedizione</h2>
                <button class="modal-close" aria-label="Chiudi">‚úï</button>
            </div>
            
            <div class="modal-body">
                <form id="checkout-form">
                    <div class="form-group">
                        <label class="form-label" for="checkout-name" data-i18n="checkout.name">Nome e Cognome</label>
                        <input type="text" id="checkout-name" name="name" class="form-control" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="checkout-email" data-i18n="checkout.email">Email</label>
                            <input type="email" id="checkout-email" name="email" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="checkout-phone" data-i18n="checkout.phone">Telefono</label>
                            <input type="tel" id="checkout-phone" name="phone" class="form-control" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="checkout-address" data-i18n="checkout.address">Indirizzo Completo</label>
                        <input type="text" id="checkout-address" name="address" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="checkout-country" data-i18n="checkout.country">Paese</label>
                        <select id="checkout-country" name="country" class="form-control select">
                            <option value="Italia" data-i18n="checkout.italy">üáÆüáπ Italia</option>
                            <option value="Europa" data-i18n="checkout.europe">üá™üá∫ Europa (UE)</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                        <span data-i18n="checkout.confirm">CONFERMA E ORDINA</span>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Thanks Overlay -->
    <div class="thanks-overlay">
        <div class="thanks-content">
            <div class="thanks-icon">üéâ</div>
            <h2 class="thanks-title" data-i18n="order.thanks">Grazie!</h2>
            <p class="thanks-message" data-i18n="order.message">L'ordine √® stato inviato correttamente.</p>
            <button class="btn btn-secondary btn-lg" onclick="location.reload()">
                <span data-i18n="order.back">TORNA AL SITO</span>
            </button>
        </div>
    </div>

    <!-- GDPR Banner -->
    <div class="gdpr-banner">
        <div class="gdpr-content">
            <h3 class="gdpr-title" data-i18n="gdpr.title">üç™ Privacy & Cookie Policy</h3>
            <p class="gdpr-message" data-i18n="gdpr.message">
                Utilizziamo cookie e dati per migliorare l'esperienza di navigazione, personalizzare contenuti e analizzare il traffico. Proseguendo, accetti la nostra Cookie Policy e le condizioni di privacy.
            </p>
            <div class="gdpr-actions">
                <button class="gdpr-btn gdpr-decline" data-i18n="gdpr.decline">Rifiuta</button>
                <button class="gdpr-btn gdpr-accept" data-i18n="gdpr.accept">Accetta Tutto</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">GRUPPO GIZZI</div>
                <p class="footer-text">
                    L'autentica esperienza del Cilento, direttamente a casa tua.<br>
                    Selezioniamo le eccellenze gastronomiche del nostro territorio.
                </p>
                <div class="footer-links">
                    <a href="#" class="footer-link">Chi Siamo</a>
                    <a href="#" class="footer-link">I Prodotti</a>
                    <a href="#" class="footer-link">Spedizioni</a>
                    <a href="#" class="footer-link">Contatti</a>
                </div>
                <div class="footer-copyright">
                    <p data-i18n="footer.copyright">¬© 2026 Gruppo Gizzi. Cilento Authentic Experience.</p>
                    <p data-i18n="footer.rights">Tutti i diritti riservati.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="./assets/js/config.js"></script>
    <script src="./assets/js/i18n.js"></script>
    <script src="./assets/js/products.js"></script>
    <script src="./assets/js/cart.js"></script>
    <script src="./assets/js/ui.js"></script>
    
    <!-- Main Application -->
    <script>
        /**
         * GRUPPO GIZZI - MAIN APPLICATION
         * Punto di ingresso principale dell'applicazione
         */
        
        class GizziApp {
            constructor() {
                this.isInitialized = false;
                this.modules = {
                    i18n: null,
                    products: null,
                    cart: null,
                    ui: null
                };
            }

            async init() {
                try {
                    this.showLoading(true);
                    
                    // Inizializza i moduli in ordine
                    await this.initializeModules();
                    
                    // Setup initial state
                    this.setupInitialState();
                    
                    // Bind global events
                    this.bindGlobalEvents();
                    
                    this.isInitialized = true;
                    this.showLoading(false);
                    
                    console.log('üçÖ Gruppo Gizzi App initialized successfully');
                    
                } catch (error) {
                    console.error('‚ùå App initialization failed:', error);
                    this.showCriticalError(error);
                    this.showLoading(false);
                }
            }

            async initializeModules() {
                // 1. Internationalization
                this.modules.i18n = window.i18n;
                await this.modules.i18n.init();

                // 2. Product Manager
                this.modules.products = window.productManager;
                await this.modules.products.init();

                // 3. Cart Manager
                this.modules.cart = window.cartManager;
                await this.modules.cart.init();

                // 4. UI Manager
                this.modules.ui = window.uiManager;
                await this.modules.ui.init();
            }

            setupInitialState() {
                // Carica tema salvato
                this.modules.ui.loadSavedTheme();

                // Controlla GDPR
                this.modules.ui.checkGDPR();

                // Render prodotti iniziali
                this.modules.ui.renderProducts('all');
                this.modules.ui.renderCategoryMenu();

                // Render carousel
                const featuredProducts = this.modules.products.getFeaturedProducts();
                this.modules.ui.renderCarousel(featuredProducts);

                // Aggiorna UI carrello
                const cartData = this.modules.cart.getCartData();
                this.modules.ui.updateCartUI(cartData);
            }

            bindGlobalEvents() {
                // Error handling
                window.addEventListener('error', this.handleGlobalError.bind(this));
                window.addEventListener('unhandledrejection', this.handleUnhandledRejection.bind(this));

                // Performance monitoring
                window.addEventListener('load', this.trackPerformance.bind(this));

                // Service Worker registration
                if ('serviceWorker' in navigator) {
                    this.registerServiceWorker();
                }
            }

            async registerServiceWorker() {
                try {
                    // Per ora saltiamo il service worker
                    // In una implementazione reale, qui registreremi un SW per caching e offline
                    console.log('Service Worker not implemented yet');
                } catch (error) {
                    console.warn('Service Worker registration failed:', error);
                }
            }

            handleGlobalError(event) {
                console.error('Global error:', event.error);
                this.trackError('javascript', event.error);
            }

            handleUnhandledRejection(event) {
                console.error('Unhandled promise rejection:', event.reason);
                this.trackError('promise', event.reason);
            }

            trackPerformance() {
                if ('performance' in window) {
                    const perfData = performance.getEntriesByType('navigation')[0];
                    const loadTime = perfData.loadEventEnd - perfData.loadEventStart;
                    
                    console.log(`Page load time: ${loadTime}ms`);
                    
                    // Analytics tracking
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'page_view', {
                            custom_map: {'custom_parameter_1': 'load_time'},
                            custom_parameter_1: loadTime
                        });
                    }
                }
            }

            trackError(type, error) {
                // Analytics error tracking
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'exception', {
                        description: error.message || error,
                        fatal: false
                    });
                }
            }

            showLoading(show) {
                document.body.classList.toggle('loading', show);
                const overlay = document.querySelector('.loading-overlay');
                if (overlay) {
                    overlay.style.display = show ? 'flex' : 'none';
                }
            }

            showCriticalError(error) {
                const errorContainer = document.createElement('div');
                errorContainer.className = 'critical-error';
                errorContainer.innerHTML = `
                    <div class="error-content">
                        <h2>‚ö†Ô∏è Si √® verificato un errore</h2>
                        <p>Ci scusiamo per l'inconveniente. Ricarica la pagina o riprova pi√π tardi.</p>
                        <button onclick="location.reload()" class="btn btn-primary">Ricarica la pagina</button>
                    </div>
                `;
                
                document.body.appendChild(errorContainer);
            }

            // Global utility methods
            static getInstance() {
                if (!window.gizziApp) {
                    window.gizziApp = new GizziApp();
                }
                return window.gizziApp;
            }
        }

        // Initialize app when DOM is ready
        document.addEventListener('DOMContentLoaded', async () => {
            const app = GizziApp.getInstance();
            await app.init();
        });

        // Fallback for immediate loading
        if (document.readyState === 'loading') {
            // DOM is still loading
        } else {
            // DOM is already loaded
            const app = GizziApp.getInstance();
            app.init().catch(console.error);
        }
    </script>
</body>
</html>